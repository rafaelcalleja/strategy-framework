(function(E,k,S){var F={transition:"elastic",speed:200,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,inline:false,html:false,iframe:false,fastIframe:true,photo:false,href:false,title:false,rel:false,opacity:0.3,preloading:true,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:false,returnFocus:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,overlayClose:true,escKey:true,arrowKey:true},v="colorbox",P="cbox",R=P+"_open",M=P+"_ready",e=P+"_load",Q=P+"_complete",s=P+"_cleanup",X=P+"_closed",i=P+"_purge",t=E.browser.msie&&!E.support.opacity,aa=t&&E.browser.version<7,W=P+"_IE6",N,ab,ac,d,C,o,b,L,c,V,I,j,h,n,r,T,q,O,x,y,Y={},ad,l,g,a,u,D,m,A,U,H=false,G,p=P+"Element";function K(ag,ae){var af=k.createElement("div");if(ag){af.id=P+ag}af.style.cssText=ae||false;return E(af)}function J(ae,ag){try{ag=ag==="x"?V.width():V.height();return(typeof ae==="string")?Math.round((/%/.test(ae)?(ag/100)*parseInt(ae,10):parseInt(ae,10))):ae}catch(af){}}function z(ae){return Y.photo||/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i.test(ae)}function Z(af){for(var ae in af){if(E.isFunction(af[ae])&&ae.substring(0,2)!=="on"){af[ae]=af[ae].call(u)}}af.rel=af.rel||u.rel||"nofollow";af.href=E.trim(af.href||E(u).attr("href"));af.title=af.title||u.title}function B(ae,af){if(af){af.call(u)}E.event.trigger(ae)}function w(){var af,ah=P+"Slideshow_",ai="click."+P,aj,ag,ae;if(Y.slideshow&&c[1]){aj=function(){T.text(Y.slideshowStop).unbind(ai).bind(Q,function(){if(D<c.length-1||Y.loop){af=setTimeout(G.next,Y.slideshowSpeed)}}).bind(e,function(){clearTimeout(af)}).one(ai+" "+s,ag);ab.removeClass(ah+"off").addClass(ah+"on");af=setTimeout(G.next,Y.slideshowSpeed)};ag=function(){clearTimeout(af);T.text(Y.slideshowStart).unbind([Q,e,s,ai].join(" ")).one(ai,aj);ab.removeClass(ah+"on").addClass(ah+"off")};if(Y.slideshowAuto){aj()}else{ag()}}}function f(ae){if(!H){u=ae;Z(E.extend(Y,E.data(u,v)));c=E(u);D=0;if(Y.rel!=="nofollow"){c=E("."+p).filter(function(){var ag=E.data(this,v).rel||this.rel;return(ag===Y.rel)});D=c.index(u);if(D===-1){c=c.add(u);D=c.length-1}}if(!A){A=U=true;ab.show();if(Y.returnFocus){try{u.blur();E(u).one(X,function(){try{this.focus()}catch(ag){}})}catch(af){}}N.css({opacity:+Y.opacity,cursor:Y.overlayClose?"pointer":"auto"}).show();Y.w=J(Y.initialWidth,"x");Y.h=J(Y.initialHeight,"y");G.position(0);if(aa){V.bind("resize."+W+" scroll."+W,function(){N.css({width:V.width(),height:V.height(),top:V.scrollTop(),left:V.scrollLeft()})}).trigger("resize."+W)}B(R,Y.onOpen);y.add(n).hide();x.html(Y.close)}G.load(true)}}G=E.fn[v]=E[v]=function(ae,ah){var af=this,ag;if(!af[0]&&af.selector){return af}ae=ae||{};if(ah){ae.onComplete=ah}if(!af[0]||af.selector===undefined){af=E("<a/>");ae.open=true}af.each(function(){E.data(this,v,E.extend({},E.data(this,v)||F,ae));E(this).addClass(p)});ag=ae.open;if(E.isFunction(ag)){ag=ag.call(af)}if(ag){f(af[0])}return af};G.init=function(){V=E(S);ab=K().attr({id:v,"class":t?P+(aa?"IE6":"IE"):""});N=K("Overlay",aa?"position:absolute":"").hide();ac=K("Wrapper");d=K("Content").append(I=K("LoadedContent","width:0; height:0; overflow:hidden"),h=K("LoadingOverlay").add(K("LoadingGraphic")),n=K("Title"),r=K("Current"),q=K("Next"),O=K("Previous"),T=K("Slideshow").bind(R,w),x=K("Close"));ac.append(K().append(K("TopLeft"),C=K("TopCenter"),K("TopRight")),K(false,"clear:left").append(o=K("MiddleLeft"),d,b=K("MiddleRight")),K(false,"clear:left").append(K("BottomLeft"),L=K("BottomCenter"),K("BottomRight"))).children().children().css({"float":"left"});j=K(false,"position:absolute; width:9999px; visibility:hidden; display:none");E("body").prepend(N,ab.append(ac,j));d.children().hover(function(){E(this).addClass("hover")},function(){E(this).removeClass("hover")}).addClass("hover");ad=28;l=28;g=I.outerHeight(true);a=I.outerWidth(true);ab.css({"padding-bottom":ad,"padding-right":l}).hide();q.click(function(){G.next()});O.click(function(){G.prev()});x.click(function(){G.close()});y=q.add(O).add(r).add(T);d.children().removeClass("hover");E("."+p).live("click",function(ae){if(!((ae.button!==0&&typeof ae.button!=="undefined")||ae.ctrlKey||ae.shiftKey||ae.altKey)){ae.preventDefault();f(this)}});N.click(function(){if(Y.overlayClose){if(typeof G.settings.overlayClose=="function"){if(G.settings.overlayClose()){G.close()}}else{G.close()}}});E(k).bind("keydown."+P,function(af){var ae=af.keyCode;if(A&&Y.escKey&&ae===27){af.preventDefault();G.close()}if(A&&Y.arrowKey&&c[1]){if(ae===37){af.preventDefault();O.click()}else{if(ae===39){af.preventDefault();q.click()}}}});B(e,Y.onLoad)};G.remove=function(){ab.add(N).remove();E("."+p).die("click").removeData(v).removeClass(p)};G.position=function(ai,af){var ah,ag=Math.max(k.documentElement.clientHeight-Y.h-g-ad,0)/2+V.scrollTop(),ae=Math.max(V.width()-Y.w-a-l,0)/2+V.scrollLeft();ah=(ab.width()===Y.w+a&&ab.height()===Y.h+g)?0:ai;ac[0].style.width=ac[0].style.height="9999px";function aj(ak){C[0].style.width=L[0].style.width=d[0].style.width=ak.style.width;h[0].style.height=h[1].style.height=d[0].style.height=o[0].style.height=b[0].style.height=ak.style.height}ab.dequeue().animate({width:Y.w+a,height:Y.h+g,top:ag,left:ae},{duration:ah,complete:function(){aj(this);U=false;ac[0].style.width=(Y.w+a+l)+"px";ac[0].style.height=(Y.h+g+ad)+"px";V.trigger("cbox_resize");if(af){af()}},step:function(){aj(this)}})};G.resize=function(ae){if(A){ae=ae||{};if(ae.width){Y.w=J(ae.width,"x")-a-l}if(ae.innerWidth){Y.w=J(ae.innerWidth,"x")}I.css({width:Y.w});if(ae.height){Y.h=J(ae.height,"y")-g-ad}if(ae.innerHeight){Y.h=J(ae.innerHeight,"y")}if(!ae.innerHeight&&!ae.height){var af=I.wrapInner("<div style='overflow:auto'></div>").children();Y.h=af.height();af.replaceWith(af.children())}I.css({height:Y.h});ae.callback=ae.callback||function(){};G.position(Y.transition==="none"?0:Y.speed,ae.callback)}};G.prep=function(ag){if(!A){return}var ah=Y.transition==="none"?0:Y.speed;V.unbind("resize."+P);if(!t){I.remove()}I=K("LoadedContent").html(ag);function ae(){Y.w=Y.w||I.width();Y.w=Y.mw&&Y.mw<Y.w?Y.mw:Y.w;return Y.w}function ai(){Y.h=Y.h||I.height();Y.h=Y.mh&&Y.mh<Y.h?Y.mh:Y.h;return Y.h}I.hide().appendTo(j.show()).css({width:ae(),overflow:Y.scrolling?"auto":"hidden"}).css({height:ai()}).prependTo(d);j.hide();E(m).css({"float":"none"});if(aa){E("select").not(ab.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(s,function(){this.style.visibility="inherit"})}function af(aj){G.position(aj,function(){var ap,aq,an,am,ao=c.length,al,ak;if(!A){return}ak=function(){h.hide();B(Q,Y.onComplete)};if(t){if(m){I.fadeIn(100)}}n.html(Y.title).add(I).show();if(ao>1){if(typeof Y.current==="string"){r.html(Y.current.replace(/\{current\}/,D+1).replace(/\{total\}/,ao)).show()}q[(Y.loop||D<ao-1)?"show":"hide"]().html(Y.next);O[(Y.loop||D)?"show":"hide"]().html(Y.previous);ap=D?c[D-1]:c[ao-1];an=D<ao-1?c[D+1]:c[0];if(Y.slideshow){T.show()}if(Y.preloading){am=E.data(an,v).href||an.href;aq=E.data(ap,v).href||ap.href;am=E.isFunction(am)?am.call(an):am;aq=E.isFunction(aq)?aq.call(ap):aq;if(z(am)){E("<img/>")[0].src=am}if(z(aq)){E("<img/>")[0].src=aq}}}else{y.hide()}if(Y.iframe){al=E("<iframe/>").addClass(P+"Iframe")[0];if(Y.fastIframe){ak()}else{E(al).load(ak)}al.name=P+(+new Date());al.src=Y.href;if(!Y.scrolling){al.scrolling="no"}if(t){al.frameBorder=0;al.allowTransparency="true"}E(al).appendTo(I).one(i,function(){al.src="//about:blank"})}else{ak()}if(Y.transition==="fade"){ab.fadeTo(ah,1,function(){ab[0].style.filter=""})}else{ab[0].style.filter=""}V.bind("resize."+P,function(){G.position(0)})})}if(Y.transition==="fade"){ab.fadeTo(ah,0,function(){af(0)})}else{af(ah)}};G.load=function(ag){var af,ah,ae=G.prep;U=true;m=false;u=c[D];if(!ag){Z(E.extend(Y,E.data(u,v)))}B(i);B(e,Y.onLoad);Y.h=Y.height?J(Y.height,"y")-g-ad:Y.innerHeight&&J(Y.innerHeight,"y");Y.w=Y.width?J(Y.width,"x")-a-l:Y.innerWidth&&J(Y.innerWidth,"x");Y.mw=Y.w;Y.mh=Y.h;if(Y.maxWidth){Y.mw=J(Y.maxWidth,"x")-a-l;Y.mw=Y.w&&Y.w<Y.mw?Y.w:Y.mw}if(Y.maxHeight){Y.mh=J(Y.maxHeight,"y")-g-ad;Y.mh=Y.h&&Y.h<Y.mh?Y.h:Y.mh}af=Y.href;h.show();if(Y.inline){K().hide().insertBefore(E(af)[0]).one(i,function(){E(this).replaceWith(I.children())});ae(E(af))}else{if(Y.iframe){ae(" ")}else{if(Y.html){ae(Y.html)}else{if(z(af)){E(m=new Image()).addClass(P+"Photo").error(function(){Y.title=false;ae(K("Error").text("This image could not be loaded"))}).load(function(){var aj;m.onload=null;if(Y.scalePhotos){ah=function(){m.height-=m.height*aj;m.width-=m.width*aj};if(Y.mw&&m.width>Y.mw){aj=(m.width-Y.mw)/m.width;ah()}if(Y.mh&&m.height>Y.mh){aj=(m.height-Y.mh)/m.height;ah()}}if(Y.h){m.style.marginTop=Math.max(Y.h-m.height,0)/2+"px"}if(c[1]&&(D<c.length-1||Y.loop)){m.style.cursor="pointer";m.onclick=function(){G.next()}}if(t){m.style.msInterpolationMode="bicubic"}setTimeout(function(){ae(m)},1)});setTimeout(function(){m.src=af},1)}else{if(af){var ai='<div style="width:500px"><div class="box-title">Error</div><div class="message error">No se puede cargar la p√°gina</div><div class="cboxButtons"></div></div>';if(Y.method&&Y.method.toLowerCase()=="post"){postdata=af.substring(af.indexOf("?")+1);af=af.substring(0,af.indexOf("?"))}else{postdata=null}E.ajax({url:af,data:postdata,type:Y.method||"get",beforeSend:function(ak,aj){ak.setRequestHeader("x-last-page",location.href)},complete:function(ak,aj){if(aj==="error"){$response=K("Error").html(ai)}else{$response=j.html(ak.responseText).contents()}ae($response)}})}}}}}};G.next=function(){if(!U&&c[1]&&(D<c.length-1||Y.loop)){D=D<c.length-1?D+1:0;G.load()}};G.prev=function(){if(!U&&c[1]&&(D||Y.loop)){D=D?D-1:c.length-1;G.load()}};G.close=function(){if(A&&!H){H=true;A=false;B(s,Y.onCleanup);V.unbind("."+P+" ."+W);N.fadeTo(200,0);ab.stop().fadeTo(300,0,function(){ab.add(N).css({opacity:1,cursor:"auto"}).hide();B(i);I.remove();setTimeout(function(){H=false;B(X,Y.onClosed)},1)})}};G.element=function(){return E(u)};G.settings=F;E(G.init)}(jQuery,document,this));